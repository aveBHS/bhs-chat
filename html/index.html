<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Сообщения</title>
</head>
<body>
    <div id="user"></div>
    <hr>
    <div id="messages"></div>
    <script>
        let renderTo = document.getElementById("user");
        let renderToMsg = document.getElementById("messages");
        let userId = "5f1c19da6a9369fc075e4d11";
        let token = "123";

        const {getUser, renderUser} = require("../js/users");
        const {getMessages, renderMessages, sendMessage} = require("../js/messages");
        
    </script>
    <hr>
    <b>Сообщения: </b><input id="msgIdInput" value="5f5deeafdb9ae231f84f50d2">
    <button onclick="setInterval(() => {getMessages(document.getElementById('msgIdInput').value, token, renderMessages, renderToMsg);}, 1000);">Get Msg</button>
    <hr>
    <b>Кому: </b><input id="userIdInput" value="5f5deeafdb9ae231f84f50d2"><br>
    <textarea id="text"></textarea><br>
    <button onclick="sendMessage(userId, token, document.getElementById(`text`).value, undefined, (msg) => { if(msg != `OK`) alert(msg); });">Отправить</button>
</body>
</html>